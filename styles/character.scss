@import '_animations.scss';

.character {
  max-width:100%;
  width:550px;
  transform-origin:center center;
  transition:transform .1s linear;
  will-change:transform;
  margin:0 auto;
  animation-fill-mode: both;

  &.backwards {
    transform:rotateY(180deg);
  }

  * {
    transition:transform .5s linear;
    will-change:transform;
    animation-fill-mode: forwards;
    animation-duration:1s;
    animation-iteration-count:infinite;
    box-sizing:border-box;
  }

  .frame {
    height:0;
    width:100%;
    position:relative;
    padding-bottom:125%;

    .body {
      height:28%;
      width:20%;
      position:absolute;
      top:42%;
      left:33.33%;
      transform:translate(var(--bodyPosition)) rotate(var(--bodyRotation));
      transform-origin:center center;

      .head {
        position:absolute;
        width:125%;
        height:71.43%;
        top:-62%;
        left:-12.5%;
        background:yellow;
        border-radius:50%;
        transform-origin:bottom center;
        z-index:4;
        transform:rotate(var(--headRotation));
        &:before {
          content: '';
          position:absolute;
          top:-20%;
          left:-5%;
          bottom:-10%;
          right:-5%;
          background-image:url(../assets/hair/spiky-1.png);
          background-size:100%;
          background-position:top center;
          background-repeat:no-repeat;
          z-index:1;
        }
        &:after {
          content: '';
          position:absolute;
          top:0;
          left:0;
          bottom:0;
          right:0;
          background-image:url(../assets/face/face4.png);
          background-size:50%;
          background-position:95% 50%;
          background-repeat:no-repeat;
          z-index:2;
        }
      }

      .torso {
        height:100%;
        width:100%;
        position:absolute;
        top:0;
        left:0;
        background:#f2f2f2;
        z-index:3;
        border-top-left-radius:50%;
        border-top-right-radius:50%;
      }

      .arm {
        position:absolute;
        top:35%;
        width:30%;
        height:100%;
        transform-origin:50% 0;

        &.left {
          right:50%;
          z-index:5;
          transform:rotate(var(--leftArmRotation));

          .forearm {
            transform:rotate(var(--leftForearmRotation));
          }
        }

        &.right {
          left:50%;
          z-index:0;
          transform:rotate(var(--rightArmRotation));

          .forearm {
            transform:rotate(var(--rightForearmRotation));
          }
        }

        .bicep {
          position:absolute;
          height:40%;
          width:100%;
          top:0;
          left:0;
          background:yellow;

          .shoulder {
            position:absolute;
            width:100%;
            height:66.66%;
            border-radius:50%;
            background:yellow;
            top:-25%;
            left:0;
          }
        }

        .forearm {
          position:absolute;
          height:40%;
          width:100%;
          top:40%;
          left:0;
          background:yellow;
          transform-origin:50% 0;

          .elbow {
            position:absolute;
            width:100%;
            height:42.86%;
            border-radius:50%;
            background:yellow;
            top:-25%;
            left:0;
          }

          .hand {
            position:absolute;
            width:150%;
            height:64.3%;
            background:yellow;
            bottom:-37.5%;
            left:-25%;
            border-radius:50%;
          }
        }
      }

      .waist {
        position:absolute;
        width:100%;
        height:57.15%;
        bottom:-28.775%;
        left:0;
        z-index:3;

        .hips {
          position:absolute;
          height:100%;
          width:100%;
          top:0;
          left:0;
          background:#f2f2f2;
          z-index:1;
          border-radius:50%;
        }

        .leg {
          position:absolute;
          height:160%;
          width:40%;
          top:85%;
          z-index:5;
          transform-origin:50% 0;

          .thigh {
            position:absolute;
            height:40%;
            width:100%;
            top:0;
            left:0;
            background:yellow;

            .pelvis {
              position:absolute;
              top:-33.33%;
              left:0;
              width:100%;
              height:66.66%;
              border-radius:50%;
              background:#f2f2f2;
            }
          }

          .calf {
            position:absolute;
            height:35%;
            width:100%;
            top:40%;
            left:0;
            background:yellow;
            transform-origin:50% 0;

            .knee {
              position:absolute;
              top:-37.5%;
              left:0;
              width:100%;
              height:73.22%;
              border-radius:50%;
              background:yellow;
            }
          }

          .foot {
            position:absolute;
            height:60%;
            width:200%;
            top:93.33%;
            left:0;
            background:yellow;
            border-top-right-radius:50%;
            transform-origin:25% 0;
            z-index:5;

            .ankle {
              position:absolute;
              top:-50%;
              left:0;
              height:119.1%;
              width:50%;
              background:yellow;
              border-radius:50%;
            }
          }

          &.left {
            left:15%;
            z-index:2;
            transform:rotate(var(--leftLegRotation));

            .calf {
              transform:rotate(var(--leftCalfRotation));
            }

            .foot {
              transform:rotate(var(--leftFootRotation));
            }
          }

          &.right {
            right:15%;
            z-index:0;
            transform:rotate(var(--rightLegRotation));

            .calf {
              transform:rotate(var(--rightCalfRotation));
            }

            .foot {
              transform:rotate(var(--rightFootRotation));
            }
          }
        }
      }
    }
  }
}
